{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "avatar",
  "type": "registry:ui",
  "title": "Avatar",
  "dependencies": [
    "@radix-ui/react-avatar"
  ],
  "files": [
    {
      "path": "src/components/ui/avatar.tsx",
      "content": "\"use client\"\n\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Star icon for active badge\nfunction AvatarStar({ className }: { className?: string }) {\n  return (\n    <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className={cn(\"size-full\", className)}>\n      <path d=\"M12 2l2.4 7.4h7.6l-6 4.6 2.3 7-6.3-4.6-6.3 4.6 2.3-7-6-4.6h7.6z\" />\n    </svg>\n  )\n}\n\nconst avatarVariants = cva(\n  \"relative flex shrink-0 overflow-hidden border-3\",\n  {\n    variants: {\n      variant: {\n        circle: \"rounded-full\",\n        square: \"rounded-base\",\n      },\n      size: {\n        sm: \"size-8 text-[10px]\",\n        default: \"size-10 text-xs\",\n        lg: \"size-12 text-sm\",\n        xl: \"size-16 text-base\",\n      },\n      active: {\n        true: \"border-main\",\n        false: \"border-border\",\n      },\n    },\n    defaultVariants: {\n      variant: \"square\",\n      size: \"default\",\n      active: false,\n    },\n  }\n)\n\nconst starBadgeSizes = {\n  sm: \"size-2.5 -bottom-[1px] -right-[1px]\",\n  default: \"size-3 -bottom-[2px] -right-[2px]\",\n  lg: \"size-3.5 -bottom-[2px] -right-[2px]\",\n  xl: \"size-4 -bottom-[3px] -right-[3px]\",\n}\n\ninterface AvatarProps\n  extends React.ComponentProps<typeof AvatarPrimitive.Root>,\n    VariantProps<typeof avatarVariants> {\n  /** Show diagonal red accent stripe */\n  diagonal?: boolean\n}\n\nfunction Avatar({\n  className,\n  variant,\n  size = \"default\",\n  active,\n  diagonal,\n  children,\n  ...props\n}: AvatarProps) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      data-active={active || undefined}\n      className={cn(avatarVariants({ variant, size, active }), className)}\n      {...props}\n    >\n      {/* Optional diagonal accent stripe */}\n      {diagonal && (\n        <div\n          className=\"absolute inset-0 pointer-events-none z-10\"\n          style={{\n            background: `linear-gradient(\n              135deg,\n              transparent 60%,\n              var(--main) 60%,\n              var(--main) 70%,\n              transparent 70%\n            )`,\n          }}\n        />\n      )}\n\n      {children}\n\n      {/* Active status: red square with cream star */}\n      {active && (\n        <div\n          className={cn(\n            \"absolute z-20\",\n            \"flex items-center justify-center\",\n            \"bg-main\",\n            \"border-2 border-border\",\n            \"p-0.5\",\n            starBadgeSizes[size || \"default\"],\n          )}\n        >\n          <AvatarStar className=\"text-main-foreground\" />\n        </div>\n      )}\n    </AvatarPrimitive.Root>\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full object-cover\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"flex size-full items-center justify-center\",\n        \"bg-main text-main-foreground\",\n        \"font-heading uppercase tracking-wider\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\n// Avatar Group for stacked avatars\ninterface AvatarGroupProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Maximum avatars to show before \"+N\" */\n  max?: number\n  /** Size of avatars (for the \"+N\" badge) */\n  size?: \"sm\" | \"default\" | \"lg\" | \"xl\"\n}\n\nconst groupSizeClasses = {\n  sm: \"size-8 text-[10px]\",\n  default: \"size-10 text-xs\",\n  lg: \"size-12 text-sm\",\n  xl: \"size-16 text-base\",\n}\n\nfunction AvatarGroup({\n  children,\n  max,\n  size = \"default\",\n  className,\n  ...props\n}: AvatarGroupProps) {\n  const avatars = React.Children.toArray(children)\n  const visible = max ? avatars.slice(0, max) : avatars\n  const remaining = max ? Math.max(0, avatars.length - max) : 0\n\n  return (\n    <div\n      data-slot=\"avatar-group\"\n      className={cn(\"flex items-center -space-x-3\", className)}\n      {...props}\n    >\n      {visible.map((child, index) => (\n        <div\n          key={index}\n          className=\"relative\"\n          style={{ zIndex: visible.length - index }}\n        >\n          {child}\n        </div>\n      ))}\n      {remaining > 0 && (\n        <div\n          className={cn(\n            \"relative z-0\",\n            \"inline-flex items-center justify-center\",\n            \"border-3 border-border\",\n            \"rounded-base\",\n            \"bg-foreground text-background\",\n            \"font-heading uppercase\",\n            groupSizeClasses[size],\n          )}\n        >\n          +{remaining}\n        </div>\n      )}\n    </div>\n  )\n}\n\n// Avatar Badge - ID card style with name and designation\ninterface AvatarBadgeProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Image source */\n  src?: string\n  /** Alt text / name for fallback */\n  alt?: string\n  /** Custom fallback text (initials) */\n  fallback?: string\n  /** Display name */\n  name: string\n  /** Role/title displayed above name */\n  designation?: string\n  /** Show active star indicator */\n  active?: boolean\n}\n\nfunction AvatarBadge({\n  src,\n  alt,\n  fallback,\n  name,\n  designation = \"MEMBER\",\n  active = false,\n  className,\n  ...props\n}: AvatarBadgeProps) {\n  // Generate initials from name or fallback\n  const initials = React.useMemo(() => {\n    if (fallback) return fallback.slice(0, 2).toUpperCase()\n    if (name) {\n      const words = name.split(\" \")\n      if (words.length >= 2) {\n        return (words[0][0] + words[1][0]).toUpperCase()\n      }\n      return name.slice(0, 2).toUpperCase()\n    }\n    return \"??\"\n  }, [fallback, name])\n\n  return (\n    <div\n      data-slot=\"avatar-badge\"\n      className={cn(\n        \"relative inline-flex items-center gap-3\",\n        \"border-3 border-border\",\n        \"rounded-base\",\n        \"bg-background\",\n        \"p-2 pr-4\",\n        \"shadow-shadow\",\n        className,\n      )}\n      {...props}\n    >\n      {/* Diagonal corner accent */}\n      <div className=\"absolute top-0 right-0 w-6 h-6 overflow-hidden pointer-events-none\">\n        <div\n          className=\"absolute -top-3 -right-3 w-6 h-6 bg-main\"\n          style={{ transform: \"rotate(45deg)\" }}\n        />\n      </div>\n\n      <Avatar size=\"lg\" active={active}>\n        {src && <AvatarImage src={src} alt={alt || name} />}\n        <AvatarFallback>{initials}</AvatarFallback>\n      </Avatar>\n\n      <div className=\"flex flex-col\">\n        <span className=\"text-[10px] font-heading uppercase tracking-widest text-main\">\n          {designation}\n        </span>\n        <span className=\"text-sm font-heading uppercase tracking-wide text-foreground\">\n          {name}\n        </span>\n      </div>\n    </div>\n  )\n}\n\nexport {\n  Avatar,\n  AvatarImage,\n  AvatarFallback,\n  AvatarGroup,\n  AvatarBadge,\n  AvatarStar,\n  avatarVariants,\n}\n",
      "type": "registry:ui"
    }
  ]
}